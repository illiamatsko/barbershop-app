<app-auth-form>
  <form (submit)="onSubmit()" [formGroup]="signUpForm">
    <div class="auth-heading">
      <div class="auth-subtitle">
        <div class="w-10 h-px bg-yellow-500"></div>
        <span>Create account</span>
        <div class="w-10 h-px bg-yellow-500"></div>
      </div>
      <h2 class="auth-title">Sign Up</h2>
    </div>

    <div>
      <lib-form-field
        id="email"
        type="email"
        label="Email Address"
        placeholder="your@email.com"
        [control]="signUpForm.controls.email"
      ></lib-form-field>
      @if (getError('email', signUpForm.controls.email)) {
        <p class="auth-error">Email is invalid</p>
      }
      @if (getError('required', signUpForm.controls.email)) {
        <p class="auth-error">Email is required</p>
      }
    </div>

    <div class="auth-2col">
      <div>
        <lib-form-field
          id="firstName"
          type="text"
          label="First name"
          placeholder="John"
          [control]="signUpForm.controls.firstName"
        ></lib-form-field>
        @if (getError('required', signUpForm.controls.firstName)) {
          <p class="auth-error">First name is required</p>
        }
      </div>

      <div>
        <lib-form-field
          id="lastName"
          type="text"
          label="Last name"
          placeholder="Doe"
          [control]="signUpForm.controls.lastName"
        ></lib-form-field>
        @if (getError('required', signUpForm.controls.lastName)) {
          <p class="auth-error">Last name is required</p>
        }
      </div>
    </div>

    <div>
      <lib-phone-input [control]="signUpForm.controls.phoneNumber"></lib-phone-input>
      @if (getError('required', signUpForm.controls.phoneNumber)) {
        <p class="auth-error">Phone number is required</p>
      }
      @if (getError('invalidPhone', signUpForm.controls.phoneNumber)) {
        <p class="auth-error">Phone number is invalid</p>
      }
    </div>

    <div>
      <lib-form-field
        id="password"
        type="password"
        label="Password"
        placeholder="Enter your password"
        [control]="signUpForm.controls.password"
      ></lib-form-field>
      @if (getError('minlength', signUpForm.controls.password)) {
        <p class="auth-error">Password must be at least 6 characters</p>
      }
      @if (getError('required', signUpForm.controls.password)) {
        <p class="auth-error">Password is required</p>
      }
    </div>

    <div>
      <lib-form-field
        id="confirmPassword"
        type="password"
        label="Confirm password"
        placeholder="Repeat password"
        [control]="signUpForm.controls.confirmPassword"
      ></lib-form-field>
      @if (confirmPasswordError) {
        <p class="auth-error">Passwords do not match</p>
      }
    </div>

    @if (error()) {
      <div class="text-center">
        <p class="auth-error">{{ error() }}</p>
      </div>
    }

    <button type="submit" class="auth-button">
      Sign Up
    </button>

    <p class="auth-footer">
      Already have an account?
      <a routerLink="/auth/sign-in" class="auth-footer-link">Sign in here</a>
    </p>
  </form>
</app-auth-form>
