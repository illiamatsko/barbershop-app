<div class="max-w-4xl mx-auto my-7">
  <div class="bg-neutral-900 rounded-t-2xl border border-gray-700 border-b-0">
    <div class="flex border-b border-gray-700">
      <button
        (click)="switchTab('future')"
        [class]="activeTab === 'future' ? 'flex-1 px-6 py-4 text-sm font-medium text-yellow-400 border-b-2 border-yellow-400 bg-yellow-400/5 transition-all' : 'flex-1 px-6 py-4 text-sm font-medium text-gray-400 hover:text-white hover:bg-neutral-800/50 transition-all'">
        Future appointments
      </button>
      <button
        (click)="switchTab('history')"
        [class]="activeTab === 'history' ? 'flex-1 px-6 py-4 text-sm font-medium text-yellow-400 border-b-2 border-yellow-400 bg-yellow-400/5 transition-all' : 'flex-1 px-6 py-4 text-sm font-medium text-gray-400 hover:text-white hover:bg-neutral-800/50 transition-all'">
        History
      </button>
    </div>
  </div>

  <div class="bg-neutral-900 rounded-b-2xl border border-gray-700 border-t-0 p-6">
    <div class="space-y-4">
      @for (appointment of selectedAppointmentsInfo(); track appointment.id) {
        @if(activeTab === 'future') {
          @if (appointment.status === 'CANCELED') {
            <app-canceled-appointment-card [appointment]="appointment" />
          } @else {
            <app-future-appointment-card [appointment]="appointment" />
          }
        } @else {
          @if (appointment.status === 'CANCELED') {
            <app-canceled-appointment-card [appointment]="appointment" />
          } @else {
            <app-past-appointment-card [appointment]="appointment" />
          }
        }
      } @empty {
        <div class="text-center py-12 text-gray-400">
          <i class="fas fa-calendar-times text-4xl mb-3 opacity-50"></i>
          <p>No scheduled appointments :(</p>
        </div>
      }
    </div>
  </div>
</div>
